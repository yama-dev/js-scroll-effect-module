/*! @yama-dev/js-scroll-effect-module Version 0.12.0 Repository https://github.com/yama-dev/js-scroll-effect-module Copyright yama-dev Licensed MIT */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SCROLL_EFFECT_MODULE=e():t.SCROLL_EFFECT_MODULE=e()}(self,(function(){return function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};function n(t){try{return t instanceof HTMLElement}catch(t){return!1}}function r(t,e){if(e){var o,a=r(t),i=[];return!!a&&(a.map((function(t){if(!(o=n(e)?Array.prototype.slice.call(t.querySelectorAll(e.tagName.toLowerCase())):Array.prototype.slice.call(t.querySelectorAll(e))))return!1;i=i.concat(o)})),i)}if(!t)return!1;var c;if(!Array.isArray(t)&&!t.length||function(t){try{return"string"==typeof t}catch(t){return!1}}(t))c=n(t)?Array(t):Array.prototype.slice.call(document.querySelectorAll(t));else{if(!n(t[0]))return!1;c=Array.prototype.slice.call(t)}return 0===c.length&&(c=null),c}function o(t,e){var n=r(t);if(!n)return!1;n.map((function(t){var n="";Object.keys(e).forEach((function(r){n=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t.setAttribute(n,e[r])}))}))}function a(t,e){return n(t)?t.classList.contains(e):document.querySelector(t).classList.contains(e)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.d(e,{default:function(){return f}});var f=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,t),this.state={observer:null,items:[]};var r={target:"[data-scroll]",root:null,displayRatio:.8,displayReverse:!0,autoStart:!0,classNameActive:"is-active",intersect:!1,scrollEvent:!1,throttleInterval:3,on:{Change:null,In:null,Out:null,Scroll:null}};if(this.config=c(c({},r),n),!this.config.autoStart)return!1;"complete"==document.readyState||"interactive"==document.readyState?(this._Init(),this.config.scrollEvent&&this._BindEvent()):document.addEventListener("DOMContentLoaded",(function(){e._Init(),e.config.scrollEvent&&e._BindEvent()}))}var e,n,i;return e=t,(n=[{key:"_BindEvent",value:function(){var t,e,n,r=this;window.addEventListener("scroll",(t=function(){if(r.config.on.Scroll&&"function"==typeof r.config.on.Scroll){var t=window.pageYOffset;r.config.on.Scroll(t)}},e=this.config.throttleInterval,n=Date.now(),function(){n+e-Date.now()<0&&(t(),n=Date.now())}),{passive:!0})}},{key:"_Init",value:function(){var t=this;if(this.state.items=r(this.config.target),!this.state.items)return!1;o(this.state.items,{dataScrollState:!1}),this.config.intersect&&o(this.state.items,{dataScrollIntersect:!1});var e=Math.floor(100*(1-this.config.displayRatio)),n={root:null,rootMargin:"0px 0px -".concat(e,"%"),threshold:0};this.state.observer=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(e.rootBounds.y<e.boundingClientRect.y&&"false"===e.target.dataset.scrollState&&(o(e.target,{dataScrollState:!0}),t._ActivateItem(e)),e.rootBounds.y>e.boundingClientRect.y&&(o(e.target,{dataScrollState:!0}),t._ActivateItem(e))),e.isIntersecting||e.rootBounds.y<e.boundingClientRect.y&&"true"===e.target.dataset.scrollState&&t.config.displayReverse&&(o(e.target,{dataScrollState:!1}),t._InActivateItem(e)),t.config.intersect&&(e.isIntersecting&&"false"===e.target.dataset.scrollIntersect&&o(e.target,{dataScrollIntersect:!0}),e.isIntersecting||"true"===e.target.dataset.scrollIntersect&&o(e.target,{dataScrollIntersect:!1}))}))}),n),this.state.items.map((function(e,n){o(e,{dataScrollIndex:n}),t.state.observer.observe(e)}))}},{key:"_ActivateItem",value:function(t){a(t.target,this.config.classNameActive)||this.config.classNameActive&&function(t,e){var n=r(t);if(!n)return!1;n.map((function(t){t.classList.add(e)}))}(t.target,this.config.classNameActive),this.config.on.Change&&"function"==typeof this.config.on.Change&&this.config.on.Change(t.target,Number(t.target.dataset.scrollIndex),t.target.dataset.scrollName),this.config.on.In&&"function"==typeof this.config.on.In&&this.config.on.In(t.target,Number(t.target.dataset.scrollIndex),t.target.dataset.scrollName)}},{key:"_InActivateItem",value:function(t){a(t.target,this.config.classNameActive)&&this.config.classNameActive&&function(t,e){var n=r(t);if(!n)return!1;n.map((function(t){t.classList.remove(e)}))}(t.target,this.config.classNameActive),this.config.on.Change&&"function"==typeof this.config.on.Change&&this.config.on.Change(t.target,Number(t.target.dataset.scrollIndex),t.target.dataset.scrollName),this.config.on.Out&&"function"==typeof this.config.on.Out&&this.config.on.Out(t.target,Number(t.target.dataset.scrollIndex),t.target.dataset.scrollName)}},{key:"Start",value:function(){this.state.items||this._Init()}},{key:"Stop",value:function(){var t=this;if(!this.state.items)return!1;this.state.items.map((function(e){o(e,{dataScrollIndex:""}),t.state.observer.unobserve(e)})),this.state.observer=null,this.state.items=null}},{key:"Update",value:function(){this.Stop(),this._Init()}},{key:"AddTarget",value:function(t){var e=this;if(!t)return!1;var n=r(t);if(!n)return!1;n.map((function(t){e.state.observer.observe(t)}))}}])&&u(e.prototype,n),i&&u(e,i),t}();return e=e.default}()}));